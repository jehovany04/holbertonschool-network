#!/bin/bash

# Backup the original /etc/hosts file
sudo cp /etc/hosts /etc/hosts.bak

echo "Original /etc/hosts backed up to /etc/hosts.bak"

# Update localhost to resolve to 127.0.0.2
sudo sed -i '/127.0.0.1\s\+localhost/ s/127.0.0.1/127.0.0.2/' /etc/hosts

# Add facebook.com to resolve to 8.8.8.8
if grep -q "facebook.com" /etc/hosts; then
	sudo sed -i '/facebook.com/ s/.*/8.8.8.8 facebook.com/' /etc/hosts
else
	echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts > /dev/null
fi

echo "localhost now resolves to 127.0.0.2"
echo "facebook.com now resolves to 8.8.8.8"

# Display the updated /etc/hosts file
echo "Updated /etc/hosts file:"
cat /etc/hosts
